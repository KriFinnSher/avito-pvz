# Avito-pvz-service
Готовый бэкенд на Go для [сервиса](https://github.com/avito-tech/tech-internship/blob/main/Tech%20Internships/Backend/Backend-trainee-assignment-spring-2025/Backend-trainee-assignment-spring-2025.md),
позволяющего управлять пвз, приёмками и товарами. В проекте используется авторизация, бд, логирование, бизнес- и технические метрики, grpc и docker окружение. Все готовые конфиг-файлы для удобства
развертывания и тестирования содержатся в репозитории.

## Инструкция по запуску
1. Первым делом клонируйте данный репозиторий командой ниже или скачайте архив с исходным кодом и распакуйте:
```bash
git clone https://github.com/KriFinnSher/avito-pvz.git
```
2. Далее перейдите в корневую директорию проекта и запустите сервис с помощью [Docker](https://docs.docker.com/get-started/get-docker/):
```bash
cd avito-pvz
docker-compose up --build
```
3. Готово! Теперь основной сервер доступен локально на порту `:8080`, grpc сервер на `:3000`, а метрики на `:9000`.

## Функционал
Помимо основных ручек, перечисленных в файле `openapi.yml`, реализовано следующее:
- grpc метод для получения всех пвз, зарегистрированных в системе. В файле `tests/grpc_test.go` представлен пример использования метода;
- бизнес- и технические prometheus метрики, доступные по адресу `http://localhost:9000/metrics`;
- регистрация и авторизация пользователей по ручкам `/register` и `/login` соответственно.

## Кодовая база
Для удобства разработчика в проекте реализовано следующее:
- гибкое логирование с использованием `slog.Logger` на уровне репозиториев и бизнес-логики;
- кодогенерация моков репозиториев для тестирования;
- кодогенерация DTO endpoint'ов по openapi схеме;
- высокое тестовое покрытие уровня бизнес-логики (90.3%)
![image](https://github.com/user-attachments/assets/edc56076-1752-477c-bcb6-3b9f76c94fbc)
